(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{447:function(t,e,n){"use strict";var r=n(3),o=n(448);r({target:"String",proto:!0,forced:n(449)("link")},{link:function(t){return o(this,"a","href",t)}})},448:function(t,e,n){"use strict";var r=n(6),o=n(43),l=n(22),c=/"/g,d=r("".replace);t.exports=function(t,e,n,r){var v=l(o(t)),_="<"+e;return""!==n&&(_+=" "+n+'="'+d(l(r),c,"&quot;")+'"'),_+">"+v+"</"+e+">"}},449:function(t,e,n){"use strict";var r=n(5);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},525:function(t,e,n){var content=n(597);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(70).default)("751e1554",content,!0,{sourceMap:!1})},596:function(t,e,n){"use strict";n(525)},597:function(t,e,n){var r=n(69)((function(i){return i[1]}));r.push([t.i,"img.rounded-circle[data-v-7a3d5456]{height:4.3em}",""]),r.locals={},t.exports=r},659:function(t,e,n){"use strict";n.r(e);n(25);var r=n(8),o=n(4),l=(n(16),n(447),n(33),n(92)),c=n.n(l),d=n(116),v=n.n(d),_=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({layout:"adminLte",head:function(){return{title:"Customer | Detail",link:[{rel:"stylesheet",href:"https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap.min.css"},{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}],script:[{src:"/assets/Modernize/vendor/fullcalendar/index.global.min.js",defer:!0,body:!0,callback:this.onScriptLoaded}]}}},"head",{title:"Customer | Profile"}),"name","profile"),"data",(function(){return{dataTable:null,link:"/branch/api/customers",load:!1,action:"insert",username:"user",id:null,data:{id:1,imgPath:null,name:"John Doe",phone:"1234567890",email:"john.doe@example.com",date:"2023-01-01T00:00:00Z",isActive:null,lastLogin:"2024-02-13",isPhoneVerified:1,walletBalance:null,loyalityPoint:1,refferedCode:null,refferedBy:null,branchId:1,isGlobal:null},days:{1:"sunday",2:"monday",3:"tuesday",4:"wednesday",5:"thursday",6:"friday",7:"saturday"},bookings:[],reviews:[],notifications:[],loyalti:[],config:{auth:{username:"user",password:"123456"}}}})),"asyncData",(function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,r=n.id,e.abrupt("return",{id:r});case 3:case"end":return e.stop()}}),e)})))()})),"mounted",(function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(t.id){e.next=5;break}return t.localeLocation({path:"customers-list"}),e.abrupt("return");case 5:t.get();case 6:case"end":return e.stop()}}),e)})))()})),"component",{}),"methods",{money:function(t){return new Intl.NumberFormat("ae-AE",{style:"currency",currency:"AED"}).format(t)},performAction:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,link=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$confirm("Are you sure you want to perform this action?").then((function(){link||(link=t.link),t.token=JSON.parse(localStorage.getItem("access_token")),c.a.delete(t.link+"/"+e,t.config).then((function(e){e.data.success?(t.$toast.success(e.data.response.msg).goAway(1500),t.getAll()):t.$toast.error(e.data.response.msg).goAway(1500)})).catch((function(e){t.$toast.error(e.response.data.messageText).goAway(1500)}))}))},getDate:function(t){return v.a.utc(t).format("MMMM DD, YYYY HH:mm:ss")},get:function(){var t=this;$(".preloader").show(),c.a.all([c.a.get(this.link+"/"+this.id,this.config),c.a.get("/base/api/bookings/byCustomerId?customerId="+this.id,this.config),c.a.get("/branch/api/reviews/customer/"+this.id,this.config),c.a.get("/branch/api/notifications/customer/"+this.id,this.config),c.a.get("/branch/api/loyalty-transactions/customer/"+this.id,this.config)]).then(c.a.spread((function(e,n,r,o,l){t.data=e.data.response,t.bookings=n.data.response,t.reviews=r.data.response,t.notifications=o.data.response,t.loyalti=l.data.response,t.data.imgPath||(t.data.imgPath="/assets/Modernize/images/profile/user-1.jpg"),1==e.data.success&&(t.load=!0,$(".preloader").hide())})))},onScriptLoaded:function(){this.externalLoaded=!0,$("#example").DataTable({authWidth:!0,responsive:!0,bDestroy:!0}),$("#example2").DataTable({authWidth:!0,responsive:!0,bDestroy:!0}),$("#example3").DataTable({authWidth:!0,responsive:!0,bDestroy:!0})},goto:function(code){this.$router.push(this.localeLocation({name:"booking-detail",params:{id:code}}))}}),h=_,m=(n(596),n(15)),component=Object(m.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"body-wrapper"},[e("div",{staticClass:"container-fluid"},[t.load?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-flex align-items-center gap-4 mb-4"},[e("div",{staticClass:"position-relative"},[e("div",{staticClass:"border border-2 border-primary rounded-circle"},[e("img",{staticClass:"rounded-circle m-1",attrs:{src:t.data.imgPath,alt:t.data.name,width:"60"}})])]),t._v(" "),e("div",[e("h3",{staticClass:"fw-semibold"},[e("span",{staticClass:"text-dark"},[t._v(t._s(t.data.name))])]),t._v(" "),e("span",[t._v("ID #"+t._s(t.data.id)+", Joining Date: "+t._s(t.data.createdDate))]),e("br"),t._v(" "),e("span",[t._v("Email: "+t._s(t.data.email))]),e("br"),t._v(" "),e("span",[t._v("Phone: "+t._s(t.data.phone))]),t._v("\n            >"),e("br"),t._v(" "),e("span",[t._v("Last Active: "+t._s(t.data.lastLogin))])])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-md-flex align-items-center mb-9"},[t._m(1),t._v(" "),e("div",{staticClass:"ms-auto mt-4 mt-md-0"},[e("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link rounded active",attrs:{"data-bs-toggle":"tab",href:"#home",role:"tab","aria-selected":"true"}},[e("span",[t._v("Bookings ("+t._s(t.bookings.length)+")")])])]),t._v(" "),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link rounded",attrs:{"data-bs-toggle":"tab",href:"#profile",role:"tab","aria-selected":"false",tabindex:"-1"}},[e("span",[t._v("Reviews ("+t._s(t.reviews.totalElements)+")")])])]),t._v(" "),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link rounded",attrs:{"data-bs-toggle":"tab",href:"#messages",role:"tab","aria-selected":"false",tabindex:"-1"}},[e("span",[t._v("Notifications ("+t._s(t.notifications.totalElements)+")")])])]),t._v(" "),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link rounded",attrs:{"data-bs-toggle":"tab",href:"#loyalty",role:"tab","aria-selected":"false",tabindex:"-1"}},[e("span",[t._v("Loyalty ("+t._s(t.loyalti.totalElements)+")")])])])])])]),t._v(" "),e("div",{staticClass:"tab-content mt-3"},[e("div",{staticClass:"tab-pane active",attrs:{id:"home",role:"tabpanel"}},[t.load?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table align-middle mb-0 text-nowrap",attrs:{id:""}},[t._m(2),t._v(" "),e("tbody",t._l(t.bookings,(function(n){return e("tr",{key:"booking-"+n.id,staticClass:"search-items"},[e("td",[t._v(t._s(n.serviceId))]),t._v(" "),e("td",[t._v(t._s(n.numberOfGuests))]),t._v(" "),e("td",[t._v(t._s(t.days[n.dayId]))]),t._v(" "),e("td",[t._v(t._s(t.getDate(n.bookingTime)))]),t._v(" "),e("td",[t._v(t._s(t.money(n.totalPrice)))]),t._v(" "),e("td",["PAID"==n.paymentStatus?e("span",{staticClass:"btn btn-sm badge-success"},[t._v("PAID")]):e("span",{staticClass:"btn btn-sm badge-danger"},[t._v(t._s(n.paymentStatus))])]),t._v(" "),e("td",[e("div",{staticClass:"action-btn"},[e("a",{staticClass:"text-info ms-2",staticStyle:{"padding-top":"5px"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.goto(n.id)}}},[e("i",{staticClass:"ti ti-eye fs-5"})]),t._v(" "),e("a",{staticClass:"ms-2 btn badge-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.performAction(n.id,"/base/api/bookings/"+n.id)}}},[t._v("\n                              Delete\n                            ")])])])])})),0)])]):t._e()]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{id:"profile",role:"tabpanel"}},[t.load?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover align-middle mb-0 text-nowrap",attrs:{id:"example2"}},[t._m(3),t._v(" "),e("tbody",t._l(t.reviews.content,(function(n){return e("tr",{key:"reviews-"+n.id},[e("td",[t._v(t._s(n.id))]),t._v(" "),e("td",[e("img",{attrs:{height:"50",width:"50",src:n.imagePath,alt:n.title}})]),t._v(" "),e("td",[t._v("\n                          "+t._s(n.bannerType)+"\n                        ")]),t._v(" "),e("td",["Yes"==n.published?e("span",{staticClass:"btn btn-sm badge-success"},[t._v("Yes")]):e("span",{staticClass:"btn btn-sm badge-danger"},[t._v("No")])]),t._v(" "),e("td",[t._v(t._s(n.url))]),t._v(" "),e("td",[t._v(t._s(n.title))]),t._v(" "),e("td",[t._v(t._s(n.branchId))]),t._v(" "),e("td",[t._v(t._s(n.serviceId))]),t._v(" "),e("td",[t._v(t._s(n.bookingId))]),t._v(" "),e("td",[t._v(t._s(n.rate))]),t._v(" "),e("td",[e("div",{staticClass:"action-btn"},[e("a",{staticClass:"text-dark ms-2",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.performAction(n.id,"/branch/api/reviews/"+n.id)}}},[e("i",{staticClass:"ti ti-trash fs-5"})])])])])})),0)])]):t._e()]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{id:"messages",role:"tabpanel"}},[t.load?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover align-middle mb-0 text-nowrap",attrs:{id:"example3"}},[t._m(4),t._v(" "),e("tbody",t._l(t.notifications.content,(function(n){return e("tr",{key:"notification-"+n.id,staticClass:"search-items"},[e("td",[e("img",{attrs:{height:"50",width:"50",src:n.imagePath,alt:n.title}})]),t._v(" "),e("td",[t._v(t._s(n.customersId))]),t._v(" "),e("td",[t._v(t._s(n.branchId))]),t._v(" "),e("td",[t._v(t._s(n.type))]),t._v(" "),e("td",[t._v(t._s(n.title))]),t._v(" "),e("td",[t._v(t._s(n.message))]),t._v(" "),e("td",[n.status?e("span",{staticClass:"btn btn-sm badge-success"},[t._v("Active")]):e("span",{staticClass:"btn btn-sm badge-danger"},[t._v("Inactive")])]),t._v(" "),e("td",[e("div",{staticClass:"action-btn"},[e("a",{staticClass:"text-dark ms-2",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.performAction(n.id,"/branch/api/notifications/"+n.id)}}},[e("i",{staticClass:"ti ti-trash fs-5"})])])])])})),0)])]):t._e()]),t._v(" "),e("div",{staticClass:"tab-pane",attrs:{id:"loyalty",role:"tabpanel"}},[t.load?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover align-middle mb-0 text-nowrap",attrs:{id:"example4"}},[t._m(5),t._v(" "),e("tbody",t._l(t.loyalti.content,(function(n){return e("tr",{key:"loyalti-"+n.id,staticClass:"search-items"},[e("td",[t._v(t._s(n.id))]),t._v(" "),e("td",[t._v(t._s(n.bookingId))]),t._v(" "),e("td",[t._v(t._s(t.getDate(n.redeemDate)))]),t._v(" "),e("td",[t._v(t._s(n.points))]),t._v(" "),e("td",["INSERT"==n.published?e("span",{staticClass:"btn btn-sm badge-success"},[t._v("INSERT")]):e("span",{staticClass:"btn btn-sm badge-danger"},[t._v(t._s("REDEEM"))])])])})),0)])]):t._e()])])])])])]):t._e()])])}),[function(){var t=this,e=t._self._c;return e("form",{staticClass:"mt-4 row",attrs:{novalidate:""}},[e("div",{staticClass:"mb-3 form-group col-6"},[e("label",[t._v("\n            Filter By\n            "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"controls"},[e("select",{staticClass:"form-control",attrs:{name:"select",id:"select",required:"","aria-invalid":"false"}},[e("option",{attrs:{value:""}},[t._v("Order ID")])]),t._v(" "),e("div",{staticClass:"help-block"})])]),t._v(" "),e("div",{staticClass:"mb-3 form-group col-6"},[e("label",[t._v("\n            Type to Search\n            "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"controls"},[e("input",{staticClass:"form-control",attrs:{type:"text",name:"text",placeholder:"You can write",required:"","data-validation-required-message":"This field is required","aria-invalid":"false"}}),t._v(" "),e("div",{staticClass:"help-block"})])])])},function(){var t=this,e=t._self._c;return e("div",[e("h5",{staticClass:"card-title fw-semibold"},[t._v("Activities")]),t._v(" "),e("p",{staticClass:"card-subtitle"},[t._v("\n                  List of customer's Activities history\n                ")])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"header-item"},[e("tr",[e("th",[t._v("Service")]),t._v(" "),e("th",[t._v("Number of guests")]),t._v(" "),e("th",[t._v("Day")]),t._v(" "),e("th",[t._v("Timing")]),t._v(" "),e("th",[t._v("Amount")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("th",[t._v("ID")]),t._v(" "),e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("Banner Type")]),t._v(" "),e("th",[t._v("Published")]),t._v(" "),e("th",[t._v("URL")]),t._v(" "),e("th",[t._v("Title")]),t._v(" "),e("th",[t._v("Branch")]),t._v(" "),e("th",[t._v("Service")]),t._v(" "),e("th",[t._v("Booking")]),t._v(" "),e("th",[t._v("Rate")]),t._v(" "),e("th",{staticClass:"text-end"},[t._v("Action")])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"header-item"},[e("tr",[e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("Customer")]),t._v(" "),e("th",[t._v("Branch")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Title")]),t._v(" "),e("th",[t._v("Message")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th",[t._v("Action")])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"header-item"},[e("tr",[e("th",[t._v("#")]),t._v(" "),e("th",[t._v("Booking")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",[t._v("Points")]),t._v(" "),e("th",[t._v("Type")])])])}],!1,null,"7a3d5456",null);e.default=component.exports}}]);